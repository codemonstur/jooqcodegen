0.3.1

Refactoring and cleanup
